<!DOCTYPE html>
<html class="no-js" lang="">

<head>
    <!-- Site Info-->
    <meta charset="utf-8">
    <title>Iona Toolbox</title>
    <meta name="description" content="Iona Toolbox">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="icon" type="image/png" href="favicon.png">

    <!-- WebAppp -->
    <link rel="manifest" href="/iona-toolbox/site.json">
    <link rel="apple-touch-icon" href="icon.png">
    <meta name="theme-color" content="#fafafa">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Normalize -->
    <link rel="stylesheet" href="css/normalize.css">

    <!-- W3.CSS -->
    <!-- https://www.w3schools.com/w3css/4/w3.css -->
    <link rel="stylesheet" href="css/w3.css">
    <!-- https://www.w3schools.com/lib/w3-theme-blue.css -->
    <link rel="stylesheet" href="css/w3-theme-blue.css">

    <!-- Main CSS -->
    <link rel="stylesheet" href="css/main.css">

    <!-- Icons -->
    <link href="https://cdn.materialdesignicons.com/3.8.95/css/materialdesignicons.min.css" rel="stylesheet" />
</head>

<body>
    <!--[if lte IE 9]>
		<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
	  <![endif]-->

    <!-- Add your site or application content here -->

    <div id="login-page" class="w3-content w3-theme-l4 w3-padding-16" style="height:100vh">

        <div class="w3-row-padding w3-padding-16 w3-display-container" style="height:50vh">
            <div class="w3-col s12 m4 l3 w3-display-bottommiddle">
                <input id="login-username" type="username" name="username" placeholder="Username" list="usernames" class="w3-input w3-border" autofocus/>
				<datalist id="usernames">
					<option>Technical</option>
					<option>Deck</option>
					<option>Crew</option>
					<option>Developer</option>
				</datalist>
            </div>
        </div>

        <div class="w3-row-padding w3-padding-16 w3-display-container" style="min-height:60px">
            <div class="w3-col s12 m4 l3 w3-display-middle">
                <input id="login-password" type="password" name="password" placeholder="Passphrase" class="w3-input w3-border"/>
            </div>
        </div>

        <div class="w3-row-padding w3-padding-16 w3-display-container" style="min-height:60px">
            <div class="w3-col s12 m4 l3 w3-display-middle">
                <button id="login-button" class="w3-button w3-theme" onclick="login()" style="width:100%">Log In</button>
            </div>
        </div>

        <div id="passwordPanel" class="w3-padding-16 w3-display-container w3-container w3-pale-red w3-leftbar w3-border-red" style="display:none">
            <span onclick="this.parentElement.style.display='none'" class="w3-button w3-display-topright">X</span> Incorrect Password
        </div>

    </div>

    <div id="main-content" class="w3-content w3-theme-l4 w3-display-container" style="min-height:100vh">
	
        <div class="w3-display-container w3-container w3-theme header" id="myHeader">
            <i class="mdi mdi-home w3-theme w3-display-topleft w3-xlarge" style="z-index:1; padding-top:10px; padding-left:10px;" onclick="openTab('Home')"></i>
            <i class="mdi mdi-menu w3-theme w3-display-topright w3-xlarge" style="z-index:1; padding-top:10px; padding-right:10px;" onclick="w3_open()"></i>
            <div class="w3-center">
                <h1 class="w3-xlarge w3-animate-bottom">Iona Toolbox</h1>
            </div>
        </div>
		
		<div id="sideBar" class="w3-col l3 m4 s6 w3-bar-block w3-display-topright w3-theme-l5" style="z-index:1; display:none;">
			<div class="w3-card w3-container w3-display-container w3-theme-l5">
				<a href="#" class="w3-bar-item w3-button" onclick="w3_close()">Close</a>
				<a href="#" class="w3-bar-item w3-button" onclick="openTab('About'); w3_close()">About</a>
				<a href="#" class="w3-bar-item w3-button" onclick="openTab('Contact'); w3_close()">Contact<a>
				<a href="#" class="w3-bar-item w3-button" onclick="openTab('Dev'); w3_close()">Dev Tools</a>
			</div>
		</div>

        <div id="installPanel" class="w3-padding-16 w3-display-container w3-container w3-pale-green w3-leftbar w3-border-green">
            <span onclick="this.parentElement.style.display='none'" class="w3-button w3-display-topright">X</span>
            <button class="w3-button w3-theme add-button" onclick="install()">Install</button>
        </div>

        <!-- Home Tab -->
        <div id="Home" class="w3-row-padding w3-center w3-margin-top tabPage">

            <div class="w3-col l3 m4 s6 w3-margin-bottom">
                <div class="w3-card w3-container w3-display-container w3-theme-l5" style="padding-top: 100%;" onclick="openTab('Valves')">
                    <i class="mdi mdi-reflect-vertical mdi-rotate-90 w3-margin-bottom w3-text-theme w3-hover-opacity w3-display-middle w3-jumbo"></i>
                    <p class="w3-text-theme w3-display-topmiddle">Valves</p>
                </div>
            </div>

            <div class="w3-col l3 m4 s6 w3-margin-bottom">
                <div class="w3-card w3-container w3-display-container w3-theme-l5" style="padding-top: 100%;" onclick="openTab('Phones')">
                    <i class="mdi mdi-phone w3-margin-bottom w3-text-theme w3-hover-opacity w3-display-middle w3-jumbo"></i>
                    <p class="w3-text-theme w3-display-topmiddle">Phones</p>
                </div>
            </div>

            <div class="w3-col l3 m4 s6 w3-margin-bottom">
                <div class="w3-card w3-container w3-display-container w3-theme-l5" style="padding-top: 100%;">
                    <i class="mdi mdi-flash-outline w3-margin-bottom w3-text-theme w3-hover-opacity w3-display-middle w3-jumbo" onclick="openTab('Electrical')"></i>
                    <p class="w3-text-theme w3-display-topmiddle">Electrical</p>
                </div>
            </div>

        </div>
		
		<!-- Electrical Tab -->
        <div id="Electrical" class="w3-row-padding w3-center w3-margin-top tabPage" style="display:none">

            <div class="w3-col l3 m4 s6 w3-margin-bottom">
                <div class="w3-card w3-container w3-display-container w3-theme-l5" style="padding-top: 100%;" onclick="openTab('Breakers')">
                    <i class="mdi mdi-electric-switch w3-margin-bottom w3-text-theme w3-hover-opacity w3-display-middle w3-jumbo"></i>
                    <p class="w3-text-theme w3-display-topmiddle">Breakers</p>
                </div>
            </div>
			
			<div class="w3-col l3 m4 s6 w3-margin-bottom">
                <div class="w3-card w3-container w3-display-container w3-theme-l5" style="padding-top: 100%;" onclick="openTab('ESD')">
                    <i class="mdi mdi-file-cabinet w3-margin-bottom w3-text-theme w3-hover-opacity w3-display-middle w3-jumbo"></i>
                    <p class="w3-text-theme w3-display-topmiddle">ESD</p>
                </div>
            </div>
			
			<div class="w3-col l3 m4 s6 w3-margin-bottom">
                <div class="w3-card w3-container w3-display-container w3-theme-l5" style="padding-top: 100%;" onclick="openTab('UPS')">
                    <i class="mdi mdi-power-plug w3-margin-bottom w3-text-theme w3-hover-opacity w3-display-middle w3-jumbo"></i>
                    <p class="w3-text-theme w3-display-topmiddle">UPS</p>
                </div>
            </div>
			
        </div>

        <!-- Valves Tab -->
        <div id="Valves" class="w3-container tabPage" style="display:none">
            <div class="w3-row-padding">
                <div class="w3-col">
                    <h2 class="w3-text-theme">Valves</h2>
                </div>
            </div>

            <div class="w3-row-padding ">
                <div class="w3-col s12 m4 l4">
                    <label>Search</label>
                    <input class="w3-input w3-border" type="text" id="searchFieldValves" onchange="" placeholder="Valve ID" maxlength="13" />
                </div>
            </div>

            <div class="w3-row-padding w3-padding-16">
                <div class="w3-col">
                    <button class="w3-button w3-theme" onclick="searchValves()">Search</button>
                </div>
            </div>

            <div class="w3-row-padding">
                <div class="w3-col s12 m4 l4">
                    <label>Select Valve</label>
                    <select class="w3-select w3-border" id="selectValve" onchange="valveSelected()"></select>
                </div>
            </div>

            <div class="w3-row-padding">
                <div class="w3-col s12 m12 l12">
                    <p id="displayDataValves"></p>
                </div>
            </div>

        </div>

        <!-- Phones Tab -->
        <div id="Phones" class="w3-container tabPage" style="display:none">
            <div class="w3-row-padding">
                <div class="w3-col">
                    <h2 class="w3-text-theme">Phones</h2>
                </div>
            </div>

            <div class="w3-row-padding ">
                <div class="w3-col s12 m4 l4">
                    <label>Search</label>
                    <input class="w3-input w3-border" type="text" id="searchFieldPhones" onchange="" placeholder="Name, Number, Pager" maxlength="13" />
                </div>
            </div>

            <div class="w3-row-padding w3-padding-16">
                <div class="w3-col">
                    <button class="w3-button w3-theme" onclick="searchPhones()">Search</button>
                </div>
            </div>

            <div class="w3-row-padding">
                <div class="w3-col s12 m4 l4">
                    <label>Select Phone</label>
                    <select class="w3-select w3-border" id="selectPhone" onchange="phoneSelected()"></select>
                </div>
            </div>

            <div class="w3-row-padding">
                <div class="w3-col s12 m12 l12">
                    <p id="displayDataPhones"></p>
                </div>
            </div>

        </div>

        <!-- Breakers Tab -->
        <div id="Breakers" class="w3-container tabPage" style="display:none">
            <div class="w3-row-padding">
                <div class="w3-col">
                    <h2 class="w3-text-theme">Breakers</h2>
                </div>
            </div>

            <div class="w3-row-padding ">
                <div class="w3-col s12 m4 l4">
                    <label>Search</label>
                    <input class="w3-input w3-border" type="text" id="searchFieldBreakers" onchange="" placeholder="Description, Tag" maxlength="13" />
                </div>
            </div>

            <div class="w3-row-padding w3-padding-16">
                <div class="w3-col">
                    <button class="w3-button w3-theme" onclick="searchBreakers()">Search</button>
                </div>
            </div>

            <div class="w3-row-padding">
                <div class="w3-col s12 m4 l4">
                    <label>Select Breaker</label>
                    <select class="w3-select w3-border" id="selectBreaker" onchange="breakerSelected()"></select>
                </div>
            </div>

            <div class="w3-row-padding">
                <div class="w3-col s12 m12 l12">
                    <p id="displayDataBreakers"></p>
                </div>
            </div>

        </div>
		
		<!-- ESD Tab -->
        <div id="ESD" class="w3-container tabPage" style="display:none">
            <div class="w3-row-padding">
                <div class="w3-col">
                    <h2 class="w3-text-theme">ESD Cabinets</h2>
                </div>
            </div>
			
            <div class="w3-row-padding">
                <div class="w3-col s12 m4 l4">
                    <label>Select Cabinet</label>
                    <select class="w3-select w3-border" id="selectESD" onchange="esdSelected()"></select>
                </div>
            </div>

            <div class="w3-row-padding">
                <div class="w3-col s12 m12 l12">
                    <p id="displayDataESD"></p>
                </div>
            </div>

        </div>
		
		<!-- UPS Tab -->
        <div id="UPS" class="w3-container tabPage" style="display:none">
            <div class="w3-row-padding">
                <div class="w3-col">
                    <h2 class="w3-text-theme">UPS Locations</h2>
                </div>
            </div>

            <div class="w3-row-padding">
                <div class="w3-col s12 m4 l4">
                    <label>Select UPS</label>
                    <select class="w3-select w3-border" id="selectUPS" onchange="upsSelected()"></select>
                </div>
            </div>

            <div class="w3-row-padding">
                <div class="w3-col s12 m12 l12">
                    <p id="displayDataUPS"></p>
                </div>
            </div>

        </div>

        <!-- About Tab -->
        <div id="About" class="w3-container tabPage" style="display:none">
            <div class="w3-row-padding">
                <div class="w3-col">
                    <h2 class="w3-text-theme">About</h2>
                    <p>Iona Toolbox</p>
                    <p>Updated: 08-Aug-2019</p>
                    <p>Secured with AES Encryption</p>
                    <p><a href="https://josephdouce.github.io/iona-toolbox">https://josephdouce.github.io/iona-toolbox</a></p>
                    <p>© Joseph Douce 2019</p>
                </div>
            </div>
        </div>

        <!-- Dev Tab -->
        <div id="Dev" class="w3-container tabPage" style="display:none">

            <div class="w3-row-padding">
                <div class="w3-col">
                    <h2 class="w3-text-theme">Dev Tools</h2>
                </div>
            </div>

            <div class="w3-row-padding">
                <div class="w3-col">
                    <label>Select File to Encrypt</label>
                    <input type="file" id="inputFile" name="avatar" accept=".csv" class="w3-input w3-theme">

                </div>
            </div>

            <div class="w3-row-padding w3-padding-16">
                <div class="w3-col">
                    <label>Enter passphrase to use for Encryption</label>
                    <input id="encrypt-password" type="password" name="encrypt-password" placeholder="passphrase" class="w3-input w3-border" autofocus/>
                </div>
            </div>

            <div class="w3-row-padding">
                <div class="w3-col l3 m4 s6">
                    <button class="w3-button w3-theme" onclick="encryptFile()">Encrypt</button>
                </div>
                <div class="w3-col l3 m4 s6">
                    <button class="w3-button w3-theme" onclick="decryptFile()">Decrypt</button>
                </div>
            </div>

            <div class="w3-row-padding">
                <div class="w3-col">
                    <p id="encrypt-display" class="w3-code">File data will be displayed here</p>
                </div>
            </div>
        </div>
		
		<!-- Contact Tab -->
        <div id="Contact" class="w3-container tabPage" style="display:none">

            <div class="w3-row-padding">
                <div class="w3-col">
                    <h2 class="w3-text-theme">Contact Us</h2>
                </div>
            </div>
			
			<div class="w3-row-padding w3-padding-16">
				<div class="w3-col" style="width:50px">
					<i class="w3-xxlarge mdi mdi-account w3-text-theme"></i>
				</div>
                <div class="w3-rest">
                    <input id="senderName" type="text" name="senderName" placeholder="Name" class="w3-input w3-border"/>
                </div>
            </div>
			
			<div class="w3-row-padding w3-padding-16">
				<div class="w3-col" style="width:50px">
					<i class="w3-xxlarge mdi mdi-pencil w3-text-theme"></i>
				</div>
                <div class="w3-rest">
                    <textarea id="mailBody" type="text" name="mailBody" placeholder="Message" class="w3-input w3-border"/></textarea>
                </div>
            </div>

            <div class="w3-row-padding w3-padding-16">
                <div class="w3-col l3 m4 s12">
                    <button class="w3-button w3-theme w3-block" onclick="sendMail()">Send</button>
                </div>
            </div>
			
        </div>
		
    </div>

    <!-- Boilerplate Scripts -->
    <script src="js/vendor/modernizr-3.6.0.min.js"></script>
    <script src="js/vendor/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="js/plugins.js"></script>

    <!-- User Scripts -->
    <script src="js/vendor/crypto-js.min.js" integrity="sha384-lp4k1VRKPU9eBnPePjnJ9M2RF3i7PC30gXs70+elCVfgwLwx1tv5+ctxdtwxqZa7" crossorigin="anonymous"></script>
    <script src="js/vendor/papaparse.js"></script>
    <script src="js/main.js"></script>

    <script>
        // This is the service worker with the Cache-first network

        // Add this below content to your HTML page, or add the js file to your page at the very top to register service worker

        // Check compatibility for the browser we're running this in
        if ("serviceWorker" in navigator) {
            if (navigator.serviceWorker.controller) {
                console.log("[PWA Builder] active service worker found, no need to register");
            } else {
                // Register the service worker
                navigator.serviceWorker
                    .register("pwabuilder-sw.js", {
                        scope: "./"
                    })
                    .then(function(reg) {
                        console.log("[PWA Builder] Service worker has been registered for scope: " + reg.scope);
                    });
            }
        }
    </script>

</body>

</html>